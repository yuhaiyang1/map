(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},107:function(e,t,n){},195:function(e,t,n){e.exports=n.p+"static/media/app.8dfbca4f.less"},196:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=(n(104),n(21)),u=n.n(i),s=n(67),l=n(36),f=n(66),m=(n(106),n(107),n(62)),d=n.n(m);d.a.defaults.baseURL="https://lab.isaaclin.cn/nCoV/api";var p=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,o,c,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,d.a.get(t,{params:n});case 3:if(a=e.sent,r=a.status,o=a.data,c=void 0===o?{}:o,console.log(r,c),200!==r||!c.success){e.next=10;break}return e.abrupt("return",c.results);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(63),h=n.n(g),v=n(90),b=n(91),y=n(97),E=n(92),C=n(98),w=n(26),x=(w.Guide.Line,function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.data,t=void 0===e?[]:e;console.log(t,"data");return r.a.createElement(w.Chart,{height:400,data:t,scale:{month:{range:[0,1]}},forceFit:!0,style:{background:"#fff",marginBottom:10}},r.a.createElement(w.Axis,{name:"updateTime"}),r.a.createElement(w.Axis,{name:"confirmedCount"}),r.a.createElement(w.Tooltip,{triggerOn:"mousemove",crosshairs:{type:"y"}}),r.a.createElement(w.Geom,{type:"line",position:"updateTime*confirmedCount",size:2,color:"l (270) 0:rgba(255, 146, 255, 1) .5:rgba(100, 268, 255, 1) 1:rgba(215, 0, 255, 1)",shape:"smooth",style:{shadowColor:"l (270) 0:rgba(21, 146, 255, 0)",shadowBlur:60,shadowOffsetY:6},tooltip:["confirmedCount*deadCount",function(e,t){return{name:"\u7d2f\u8ba1\u786e\u8bca",title:"\u7d2f\u8ba1\u6b7b\u4ea1\uff1a"+t,value:e}}]}))}}]),t}(r.a.Component)),O=n(22),j=(n(194),n(195),O.c.Item),k=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(f.a)(c,2),m=i[0],d=i[1];Object(a.useEffect)((function(){g(),v()}),[]);var g=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.d.loading("\u52a0\u8f7d\u4e2d",0),e.next=3,p("/overall",{latest:0});case 3:for(t=(t=e.sent).map((function(e){return Object(s.a)({},e,{updateTime:h()(e.updateTime).format("MM-DD")})})),n=[],a=6;a>-1;a--)console.log(a,"i"),n.push(h()().subtract(a,"days").format("MM-DD"));r=n.map((function(e){return Object(s.a)({},t.find((function(t){return t.updateTime===e})))})),o(r),O.d.hide();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/area",void 0);case 2:t=(t=e.sent).filter((function(e){return"\u4e2d\u56fd"===e.country})),n=function(e,t){return e.confirmedCount<t.confirmedCount?1:e.confirmedCount==t.confirmedCount?0:e.confirmedCount>t.confirmedCount?-1:void 0},console.log(t,";res"),t=t.sort((function(e,t){return n(e,t)})),d(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=n.length?n[6]:{};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:T.tip},r.a.createElement("span",{style:T.left},"\u5168\u56fd\u7d2f\u8ba1\u786e\u8bca",b.confirmedCount,"\u4f8b"),r.a.createElement("span",{style:T.right},"\u7d2f\u8ba1\u6b7b\u4ea1",b.deadCount,"\u4f8b")),r.a.createElement(x,{data:n}),m.map((function(e,t){var n=e.cities,a=void 0===n?[]:n,o=e.confirmedCount,c=e.deadCount,i=e.toggle;return r.a.createElement(O.c,{style:{background:"#fff",marginBottom:10},onClick:function(){return function(e){var t=m.map((function(t,n){return n===e&&(t.toggle=!t.toggle),t}));d(t)}(t)},renderHeader:function(){return r.a.createElement(O.a,{style:T.flex,justify:"between"},r.a.createElement("div",{style:T.title},r.a.createElement("span",null,r.a.createElement("b",null,e.provinceShortName)," \u7d2f\u8ba1\u786e\u8bca ",r.a.createElement("span",{style:T.left},o," "),"\u7d2f\u8ba1\u6b7b\u4ea1 ",r.a.createElement("span",{style:T.right},c))),r.a.createElement("div",null,i?r.a.createElement(O.b,{type:"up",style:T.flex}):r.a.createElement(O.b,{type:"down",style:T.flex})))}},i&&a.map((function(e){return r.a.createElement(j,null,r.a.createElement("span",{style:T.item}," ",e.cityName," \u7d2f\u8ba1\u786e\u8bca ",e.confirmedCount," \u7d2f\u8ba1\u6b7b\u4ea1 ",e.deadCount))})))})))},T={tip:{fontSize:"1.3rem",paddingTop:15,marginBottom:15,textAlign:"center"},left:{color:"#1890ff"},right:{color:"red"},flex:{cursor:"pointer"},title:{fontSize:"1rem"},item:{fontSize:"0.9rem",color:"#333"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,n){e.exports=n(196)}},[[99,1,2]]]);
//# sourceMappingURL=main.d49ccf85.chunk.js.map